version: '3'

services:
  server:
    volumes:
      - ../back:/app/back
      - ../front/dist:/app/front
    environment:
      - NODE_ENV=development
    ports:
      - 9229:9229
    entrypoint: ["npm", "run", "dev", "--"]
    command: ${ACTION}
  redis:
    volumes:
      - ../ignore/dbdata:/data/
  ng:
    build: ../docker/dev/ngcli/
    volumes:
      - ../front:/app/
    command: build --watch      

